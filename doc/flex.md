Лексема – это последовательность символов в исходном тексте, которая соответствует некоторому шаблону, определяющему валидные фрагменты кода. Лексемы можно считать "словами" языка программирования.
Например, в выражении int x = 5;, лексемами будут int, x, =, 5, и ;.
Лексемы определяются на этапе лексического анализа (или сканирования), который разбивает входной текст на эти значимые фрагменты.
Токен

Токен – это пара, состоящая из токенного типа и, опционально, его значения. Токенный тип представляет собой абстрактный символ, обозначающий категорию синтаксических единиц, например, ключевое слово, идентификатор, литерал и т.д.
Продолжая пример с int x = 5;, токенами могут быть: (KEYWORD, "int"), (IDENTIFIER, "x"), (OPERATOR, "="), (NUMBER, "5"), (SEMICOLON, ";").
Токен – это способ представления лексемы для дальнейшего синтаксического анализа.


%%
// Секция правил

// Здесь мы пишем лексему и код на Си, который вызывается при её распознании.
// Выглядит это примерно следующим образом:

// Шаблон { Код на Си }
%%

/* ничего не проиходит при обнаружении, т.к. в С их нет */
"VAR"        {}
"END_VAR"    {}
"END_REPEAT" {}


[ \t\n\r]    ; // Это правило игнорирует пробельные символы, такие как пробелы, табуляции, переводы строки и возвраты каретки


.            { fprintf(stderr, "Unrecognized character %c in input\n", *yytext); } // Это правило срабатывает, если входные данные не соответствуют ни одному из вышеуказанных правил.


//Секция кода
// В этой секции расположены функции на языке Си. Они могут использоваться в
// секции правил или для любых других целей, например для описания функции
// main. В нашем же случае эта секция будет оставаться пустой.

// Функция yywrap, которая сигнализирует об окончании ввода
int yywrap(){
    return 1;
